<!-- ... (previous code remains unchanged) ... -->

<script>
    function date() {
        var today = new Date();
        var options = { weekday: 'long', year: 'numeric', month: 'short', day: 'numeric' };
        var fullDate = today.toLocaleDateString('en-US', options);

        var dayElement = document.getElementById('day');
        var dateElement = document.getElementById('date');

        // Display day in uppercase
        dayElement.innerHTML = fullDate.split(',')[0].toUpperCase();
        // Display date without day
        dateElement.innerHTML = fullDate.split(',')[1].trim();
    }

    function clock() {
        var today = new Date();
        var hour = zeros(twelveHour(today.getHours()));
        var minutes = zeros(today.getMinutes());
        var seconds = zeros(today.getSeconds());
        if (today.getHours() >= 12) {
            seconds += " pm";
        } else {
            seconds += " am";
        }
        hrs = today.getHours();
        if (hrs >= 4 && hrs <= 12)
            greet = '🐓 ';
        else if (hrs >= 12 && hrs <= 15)
            greet = '☀️ ';
        else if (hrs >= 15 && hrs <= 18)
            greet = '🌤 ';
        else if (hrs >= 18 && hrs <= 21)
            greet = '🌙 ';
        else if (hrs >= 21 && hrs <= 24)
            greet = '🌚 ';
        else if (hrs >= 0 && hrs <= 4)
            greet = '🌚 ';
        document.getElementById('greet').innerHTML = greet;
        document.getElementById('hour').innerHTML = hour;
        document.getElementById('min').innerHTML = minutes;
        document.getElementById('sec').innerHTML = seconds;
    }

    function twelveHour(hour) {
        if (hour > 12) {
            return hour -= 12;
        } else if (hour === 0) {
            return hour = 12;
        } else {
            return hour;
        }
    }

    function zeros(num) {
        if (num < 10) {
            num = '0' + num;
        }
        return num;
    }

    function dateTime() {
        date();
        clock();
        setTimeout(dateTime, 500);
    }

    // Set background color based on the day
    function setCardBackground() {
        var today = new Date();
        var day = today.getDay(); // 0 = Sunday, 1 = Monday, ..., 6 = Saturday
        var colors = ['#454B4E', '#364954', '#443F57', '#594A3A', '#594A3A', '#443F57', '#454B4E'];
        var cardElement = document.getElementById('card');
        cardElement.style.background = colors[day];
    }

    dateTime();
    setCardBackground(); // Call this function to set the initial background color
</script>

<!-- Weather Widget Code -->
<a class="weatherwidget-io" href="https://forecast7.com/en/n33d71150d31/katoomba/" data-label_1="KATOOMBA" data-label_2="WEATHER" data-font="Helvetica" data-mode="Current" data-theme="gray" data-basecolor="#191919" data-highcolor="#ffa78d" data-lowcolor="#52cfa3" data-suncolor="#f7dd70" data-mooncolor="#d2fcec" data-raincolor="#52cfa3" >KATOOMBA WEATHER</a>
<script>
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','weatherwidget-io-js');
</script>
